---
layout: post
title:  "weekly report"
date:   2022-07-16 22:30:08 +0800
categories: weeklyreport
---

# 读书

### linux 设备驱动程序

这两周主要还是读了一下这本书, 一开始主要读 pcie & 块设备这块.但是发现如果只读这里就会云里雾里. 所以最后又从头开始读了.
不过从头读出来之后又发现有一些地方是我之前没有注意的.比如 /proc 文件下的其实都是虚拟文件, 每打开一个文件都会触发内核的一个方法执行.
然后将结果返回.还比如说 strace 也可以在内核编程 debug 中起到关键性的作用


# 日常

### bcc 导致的 socket 不可用问题

上周有一个问题, 在宿主机上使用 filetop 命令监控进程 io. 被跟踪进程使用了 nas 作为后端存储, 现象是一旦 filetop 命令跟踪上这个进程, 该宿主机上所有的 socket 就会中断, 比如 ssh , csi socket 会全部中断, 由于 filetop 是bdf 程序,所以我们这边也无法定位问题. 并且在我们的测试环境始终也没有复现. 并且客户的环境貌似也没办法继续复现. 可能之后就成为悬案了
