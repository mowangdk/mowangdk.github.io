---
layout: post
title: struts2 upload
category: project
description: 终于解决了
---
##其の一
其实struts2文件上传很早之前就在练习了，当时就出现了“页面被重置的这个问题”之前想破了脑袋也不知道是什么原因，今天重头开始写这个小功能，发现之前只是一个劲的上传图片，
会不会是文件格式的问题，随即换了xlsx，之前上传图片，最多只能上传一个，上传两个就显示页面被重置，
其实这个应该早被想到的，就是上传文件的大小限制吗，但是由于struts2根本不报错。直接一个页面被重置。
也真是服了。也许是我自己的经验不足照成的吧。不过现在最起码我认识到了，报错不可怕，可怕的是不报错，直接就给吞了，这个是最可怕的


##其の二
昨天下午就开始进行struts2和hibernate的整合实验，我将它们分别写了测试类，找出了里面的所有的错误之后进行了合并，但是合并调试的时候出现了 hibernate的service.registy报错
于是我将接口部分进行测试，也没有什么问题，但是两者一结合就出现了这个错误，也不知道是怎么搞得，由于它报的是包的错误，所以我就想会不会是包之间的兼容性出现了错误，于是上网找一整套的
jar包，本来想用myeclipse自带的jar包，但是导入之后发现版本太低，语法基本不能兼容，所以果断放弃，于是，在csdn上找到了ssh的jar包，但是由于包含了spring的jar包，所以到进来的时候
一顿报错，于是还得挨个删掉，之前重新建web项目的时候，还出现了忘记配置web.xml的低级错误，害的我访问半天访问不进去。。。。。也是醉了，之后就可以插入一个了，但是也只能插入一个，当插入
多个的时候   Unknown service requested [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider] 还是会报这个错误，由于之前没有见过，所以就baidu了一下。。
请原谅我没有翻墙去google。因为好麻烦，结果还真的找到了，因为插入第一个的时候 sessionfactory已经关闭，再次插入第二个的时候访问就被拒绝了，也是没有办法的事情。于是我将关闭sessionfactory的任务交给
Action了，结果果然好使，哈哈哈，终于搞定一部分了，真是开心啊^_^^_^^_^